{"version":3,"file":"authereum-connector.cjs.production.min.js","sources":["../src/index.ts"],"sourcesContent":["import { ConnectorUpdate } from '@web3-react/types'\nimport { AbstractConnector } from '@web3-react/abstract-connector'\n\nconst chainIdToNetwork: { [network: number]: string } = {\n  1: 'mainnet',\n  3: 'ropsten',\n  4: 'rinkeby',\n  5: 'goerli',\n  42: 'kovan'\n}\n\ninterface AuthereumConnectorArguments {\n  chainId: number\n  config?: any\n}\n\nexport class AuthereumConnector extends AbstractConnector {\n  private readonly chainId: number\n  private readonly config: any\n\n  public authereum: any\n\n  constructor({ chainId, config = {} }: AuthereumConnectorArguments) {\n    super({ supportedChainIds: [chainId] })\n\n    this.chainId = chainId\n    this.config = config\n  }\n\n  public async activate(): Promise<ConnectorUpdate> {\n    if (!this.authereum) {\n      const Authereum = await import('authereum').then(m => m?.default ?? m)\n      this.authereum = new Authereum({\n        networkName: chainIdToNetwork[this.chainId],\n        ...this.config\n      })\n    }\n\n    await this.authereum\n      .getProvider()\n      .enable()\n      .then((accounts: string[]): string => accounts[0])\n\n    return { provider: this.authereum.getProvider() }\n  }\n\n  public async getProvider(): Promise<any> {\n    return this.authereum.getProvider()\n  }\n\n  public async getChainId(): Promise<number | string> {\n    return this.authereum.getNetworkId()\n  }\n\n  public async getAccount(): Promise<null | string> {\n    return this.authereum.getAccountAddress()\n  }\n\n  public deactivate() {}\n\n  public async close() {\n    this.authereum.logout()\n    this.emitDeactivate()\n  }\n}\n"],"names":["chainIdToNetwork","chainId","config","supportedChainIds","activate","this","_this3","authereum","getProvider","enable","then","accounts","provider","m","Authereum","networkName","getChainId","getNetworkId","getAccount","getAccountAddress","deactivate","close","logout","emitDeactivate","AbstractConnector"],"mappings":"wWAGA,IAAMA,EAAkD,GACnD,YACA,YACA,YACA,YACC,4EAcUC,IAAAA,YAASC,OAAAA,aAAS,0BACxB,CAAEC,kBAAmB,CAACF,YAEvBA,QAAUA,IACVC,OAASA,+GAGHE,8BACNC,yCAQCC,EAAKC,UACRC,cACAC,SACAC,MAAK,SAACC,UAA+BA,EAAS,8BAE1C,CAAEC,SAAUN,EAAKC,UAAUC,oCAb7BF,EAAKC,iCACgB,8QAAO,kBAAaG,MAAK,SAAAG,+BAAKA,SAAAA,aAAcA,qBAA9DC,KACDP,UAAY,IAAIO,KACnBC,YAAaf,EAAiBM,EAAKL,UAChCK,EAAKJ,qGAYDM,kDACJH,KAAKE,UAAUC,qDAGXQ,iDACJX,KAAKE,UAAUU,sDAGXC,iDACJb,KAAKE,UAAUY,2DAGjBC,WAAA,eAEMC,4BACXhB,KAAKE,UAAUe,SAAfjB,KACKkB,0EA9C+BC"}