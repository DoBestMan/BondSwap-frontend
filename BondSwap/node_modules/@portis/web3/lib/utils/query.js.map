{"version":3,"file":"query.js","sourceRoot":"","sources":["../../src/utils/query.ts"],"names":[],"mappings":";;AAAA;IACE,eAAoB,QAAQ;QAAR,aAAQ,GAAR,QAAQ,CAAA;IAAG,CAAC;IAEhC,gCAAgB,GAAhB,UAAiB,WAAmB,EAAE,eAAwB;QAC5D,OAAO,IAAI,CAAC,SAAS,CAAC,sBAAsB,EAAE,WAAW,EAAE,eAAe,CAAC,CAAC;IAC9E,CAAC;IAED,uBAAO,GAAP,UAAQ,OAAe,EAAE,WAA8B;QAA9B,4BAAA,EAAA,sBAA8B;QACrD,OAAO,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,OAAO,EAAE,WAAW,CAAC,CAAC;IAC7D,CAAC;IAED,2BAAW,GAAX,UAAY,QAAa;QACvB,OAAO,IAAI,CAAC,SAAS,CAAC,iBAAiB,EAAE,QAAQ,CAAC,CAAC;IACrD,CAAC;IAEO,yBAAS,GAAjB,UAAkB,UAAkB;QAApC,iBAkBC;QAlBqC,cAAO;aAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;YAAP,6BAAO;;QAC3C,OAAO,IAAI,OAAO,CAAM,UAAC,OAAO,EAAE,MAAM;YACtC,KAAI,CAAC,QAAQ,CAAC,SAAS,CACrB;gBACE,EAAE,EAAE,EAAE;gBACN,OAAO,EAAE,KAAK;gBACd,MAAM,EAAE,UAAU;gBAClB,MAAM,EAAE,IAAI;aACb,EACD,UAAC,KAAK,EAAE,QAAQ;gBACd,IAAI,KAAK,EAAE;oBACT,MAAM,CAAC,KAAK,CAAC,CAAC;iBACf;qBAAM;oBACL,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;iBAC1B;YACH,CAAC,CACF,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC;IACH,YAAC;AAAD,CAAC,AAlCD,IAkCC;AAlCY,sBAAK","sourcesContent":["export class Query {\n  constructor(private provider) {}\n\n  getBlockByNumber(blockNumber: string, fullTransaction: boolean) {\n    return this.sendAsync('eth_getBlockByNumber', blockNumber, fullTransaction);\n  }\n\n  getCode(address: string, blockNumber: string = 'latest') {\n    return this.sendAsync('eth_getCode', address, blockNumber);\n  }\n\n  estimateGas(txParams: any) {\n    return this.sendAsync('eth_estimateGas', txParams);\n  }\n\n  private sendAsync(methodName: string, ...args) {\n    return new Promise<any>((resolve, reject) => {\n      this.provider.sendAsync(\n        {\n          id: 42,\n          jsonrpc: '2.0',\n          method: methodName,\n          params: args,\n        },\n        (error, response) => {\n          if (error) {\n            reject(error);\n          } else {\n            resolve(response.result);\n          }\n        },\n      );\n    });\n  }\n}\n"]}